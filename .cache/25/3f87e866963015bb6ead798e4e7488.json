{"id":"tySX","dependencies":[{"name":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\package.json","includedInParent":true,"mtime":1646697995124},{"name":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\@tensorflow\\tfjs-backend-webgl\\package.json","includedInParent":true,"mtime":1645506087312},{"name":"./gpgpu_math","loc":{"line":17,"column":33,"index":736},"parent":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\@tensorflow\\tfjs-backend-webgl\\dist\\pack_gpu.js","resolved":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\@tensorflow\\tfjs-backend-webgl\\dist\\gpgpu_math.js"},{"name":"./packing_util","loc":{"line":18,"column":28,"index":780},"parent":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\@tensorflow\\tfjs-backend-webgl\\dist\\pack_gpu.js","resolved":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\@tensorflow\\tfjs-backend-webgl\\dist\\packing_util.js"},{"name":"./shader_compiler","loc":{"line":19,"column":34,"index":832},"parent":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\@tensorflow\\tfjs-backend-webgl\\dist\\pack_gpu.js","resolved":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\@tensorflow\\tfjs-backend-webgl\\dist\\shader_compiler.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.PackProgram=void 0;var t=require(\"./gpgpu_math\"),e=require(\"./packing_util\"),r=require(\"./shader_compiler\");class n{constructor(n){if(this.variableNames=[\"A\"],this.packedInputs=!1,this.packedOutput=!0,this.outputShape=n,this.rank=n.length,this.enableShapeUniforms=(0,t.useShapeUniforms)(this.outputShape.length),0===this.rank)this.userCode=\"\\n        void main() {\\n          setOutput(vec4(getA(), 0., 0., 0.));\\n        }\\n      \";else{const t=(0,e.getChannels)(\"rc\",this.rank),n=(0,r.getCoordsDataType)(this.rank),s=this.getOutOfBoundsCondition(t),i=this.getSetup(t),h=this.getOutput(t);this.userCode=`\\n        void main() {\\n          ${n} rc = getOutputCoords();\\n\\n          if(${s}) {\\n            setOutput(vec4(0));\\n          } else {\\n            ${i}\\n\\n            setOutput(vec4(${h}));\\n          }\\n        }\\n      `}}getSourceCoordsArr(t){const e=[];for(let r=0;r<=1;r++)for(let n=0;n<=1;n++){let s=`${0===r?\"r\":\"rp1\"}, ${0===n?\"c\":\"cp1\"}`;for(let e=2;e<this.rank;e++)s=`${t[t.length-1-e]},`+s;e.push(s)}return e}getOutOfBoundsCondition(t){if(1===this.rank)return`rc > ${this.enableShapeUniforms?\"outShape\":this.outputShape[0]}`;let e=\"\";for(let r=this.rank-2;r<this.rank;r++)e+=`${t[r]} >= ${this.enableShapeUniforms?`outShape[${r}]`:this.outputShape[r]}`,r<this.rank-1&&(e+=\"||\");return e}getSetup(t){if(1===this.rank)return\"\";const e=t.slice(-2),r=this.enableShapeUniforms?`outShape[${this.rank} - 1]`:this.outputShape[this.rank-1],n=this.enableShapeUniforms?`outShape[${this.rank} - 2]`:this.outputShape[this.rank-2];return`\\n      int r = ${e[0]};\\n      int c = ${e[1]};\\n      int rp1 = r + 1;\\n      int cp1 = c + 1;\\n\\n      bool cEdge = cp1 >= ${r};\\n      bool rEdge = rp1 >= ${n};\\n    `}getOutput(t){const e=this.getSourceCoordsArr(t);if(1===this.rank){return`getA(rc), (rc + 1 >= ${this.enableShapeUniforms?\"outShape\":this.outputShape[0]} ? 0. : getA(rc + 1)), 0, 0`}return`getA(${e[0]}),\\n            cEdge ? 0. : getA(${e[1]}),\\n            rEdge ? 0. : getA(${e[2]}),\\n            rEdge || cEdge ? 0. : getA(${e[3]})`}}exports.PackProgram=n;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":0}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":13}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":20}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":35}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":43}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":56}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":57}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":64}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":68}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":76}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":93}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":95}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":99}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":101}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":18,"column":0},"generated":{"line":1,"column":109}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":125}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":127}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":135}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":153}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":155}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":163}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":6},"generated":{"line":1,"column":184}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":1,"column":190}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":31,"column":2},"generated":{"line":1,"column":192}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":32,"column":6},"generated":{"line":1,"column":204}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":207}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":210}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":215}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":23,"column":18},"generated":{"line":1,"column":229}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":23,"column":19},"generated":{"line":1,"column":230}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":235}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":26,"column":2},"generated":{"line":1,"column":240}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":26,"column":17},"generated":{"line":1,"column":254}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":256}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":261}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":27,"column":17},"generated":{"line":1,"column":275}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":277}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":282}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":35,"column":23},"generated":{"line":1,"column":294}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":1,"column":296}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":1,"column":301}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":36,"column":16},"generated":{"line":1,"column":306}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":36,"column":28},"generated":{"line":1,"column":308}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":1,"column":315}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":37,"column":9},"generated":{"line":1,"column":320}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":37,"column":31},"generated":{"line":1,"column":341}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":37,"column":48},"generated":{"line":1,"column":343}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":37,"column":48},"generated":{"line":1,"column":345}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":37,"column":48},"generated":{"line":1,"column":363}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":37,"column":53},"generated":{"line":1,"column":368}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":37,"column":65},"generated":{"line":1,"column":380}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":39,"column":22},"generated":{"line":1,"column":388}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":392}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":39,"column":13},"generated":{"line":1,"column":397}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":402}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":40,"column":11},"generated":{"line":1,"column":407}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":40,"column":22},"generated":{"line":1,"column":416}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":45,"column":11},"generated":{"line":1,"column":513}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":46,"column":12},"generated":{"line":1,"column":514}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":46,"column":12},"generated":{"line":1,"column":520}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":46,"column":23},"generated":{"line":1,"column":523}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":46,"column":35},"generated":{"line":1,"column":525}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":46,"column":35},"generated":{"line":1,"column":527}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":46,"column":35},"generated":{"line":1,"column":540}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":46,"column":41},"generated":{"line":1,"column":545}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":46,"column":46},"generated":{"line":1,"column":550}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":47,"column":12},"generated":{"line":1,"column":556}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":47,"column":20},"generated":{"line":1,"column":559}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":47,"column":38},"generated":{"line":1,"column":561}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":47,"column":38},"generated":{"line":1,"column":563}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":47,"column":38},"generated":{"line":1,"column":582}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":47,"column":43},"generated":{"line":1,"column":587}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":593}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":48,"column":35},"generated":{"line":1,"column":595}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":48,"column":40},"generated":{"line":1,"column":600}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":48,"column":64},"generated":{"line":1,"column":624}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":627}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":49,"column":20},"generated":{"line":1,"column":629}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":49,"column":25},"generated":{"line":1,"column":634}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":49,"column":34},"generated":{"line":1,"column":643}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":50,"column":12},"generated":{"line":1,"column":646}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":50,"column":21},"generated":{"line":1,"column":648}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":50,"column":26},"generated":{"line":1,"column":653}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":50,"column":36},"generated":{"line":1,"column":663}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":52,"column":11},"generated":{"line":1,"column":666}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":52,"column":11},"generated":{"line":1,"column":671}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":54,"column":12},"generated":{"line":1,"column":718}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":56,"column":15},"generated":{"line":1,"column":763}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":59,"column":14},"generated":{"line":1,"column":837}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":61,"column":29},"generated":{"line":1,"column":872}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":68,"column":10},"generated":{"line":1,"column":912}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":68,"column":29},"generated":{"line":1,"column":931}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":69,"column":10},"generated":{"line":1,"column":934}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":69,"column":10},"generated":{"line":1,"column":940}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":69,"column":19},"generated":{"line":1,"column":942}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":945}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":71,"column":9},"generated":{"line":1,"column":949}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":71,"column":13},"generated":{"line":1,"column":953}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":71,"column":19},"generated":{"line":1,"column":955}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":71,"column":22},"generated":{"line":1,"column":957}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":71,"column":29},"generated":{"line":1,"column":960}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":71,"column":32},"generated":{"line":1,"column":962}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":72,"column":11},"generated":{"line":1,"column":966}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":72,"column":11},"generated":{"line":1,"column":970}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":72,"column":15},"generated":{"line":1,"column":974}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":72,"column":21},"generated":{"line":1,"column":976}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":72,"column":24},"generated":{"line":1,"column":978}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":72,"column":31},"generated":{"line":1,"column":981}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":72,"column":34},"generated":{"line":1,"column":983}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":72,"column":41},"generated":{"line":1,"column":987}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":73,"column":12},"generated":{"line":1,"column":988}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":73,"column":12},"generated":{"line":1,"column":992}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":73,"column":31},"generated":{"line":1,"column":997}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":73,"column":23},"generated":{"line":1,"column":1001}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":73,"column":35},"generated":{"line":1,"column":1003}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":73,"column":41},"generated":{"line":1,"column":1007}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":73,"column":59},"generated":{"line":1,"column":1017}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":73,"column":51},"generated":{"line":1,"column":1021}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":73,"column":63},"generated":{"line":1,"column":1023}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":73,"column":69},"generated":{"line":1,"column":1027}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":75,"column":13},"generated":{"line":1,"column":1035}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":75,"column":13},"generated":{"line":1,"column":1039}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":75,"column":17},"generated":{"line":1,"column":1043}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":75,"column":21},"generated":{"line":1,"column":1045}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":75,"column":24},"generated":{"line":1,"column":1047}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":75,"column":28},"generated":{"line":1,"column":1049}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":75,"column":33},"generated":{"line":1,"column":1054}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":75,"column":39},"generated":{"line":1,"column":1059}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":76,"column":10},"generated":{"line":1,"column":1063}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":76,"column":21},"generated":{"line":1,"column":1068}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":76,"column":26},"generated":{"line":1,"column":1070}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":76,"column":31},"generated":{"line":1,"column":1072}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":76,"column":40},"generated":{"line":1,"column":1079}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":76,"column":44},"generated":{"line":1,"column":1081}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":76,"column":52},"generated":{"line":1,"column":1087}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":1,"column":1089}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":79,"column":15},"generated":{"line":1,"column":1091}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":79,"column":20},"generated":{"line":1,"column":1096}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":82,"column":11},"generated":{"line":1,"column":1099}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":82,"column":11},"generated":{"line":1,"column":1106}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":85,"column":10},"generated":{"line":1,"column":1108}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":85,"column":34},"generated":{"line":1,"column":1132}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":1135}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":86,"column":22},"generated":{"line":1,"column":1138}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":1142}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":86,"column":13},"generated":{"line":1,"column":1147}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":87,"column":13},"generated":{"line":1,"column":1152}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":88,"column":10},"generated":{"line":1,"column":1166}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":88,"column":15},"generated":{"line":1,"column":1171}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":88,"column":37},"generated":{"line":1,"column":1191}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":88,"column":50},"generated":{"line":1,"column":1202}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":88,"column":55},"generated":{"line":1,"column":1207}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":88,"column":67},"generated":{"line":1,"column":1219}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":91,"column":8},"generated":{"line":1,"column":1224}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":91,"column":8},"generated":{"line":1,"column":1228}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":91,"column":15},"generated":{"line":1,"column":1230}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":92,"column":9},"generated":{"line":1,"column":1233}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":92,"column":9},"generated":{"line":1,"column":1237}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":92,"column":13},"generated":{"line":1,"column":1241}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":92,"column":17},"generated":{"line":1,"column":1243}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":92,"column":22},"generated":{"line":1,"column":1248}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":92,"column":29},"generated":{"line":1,"column":1253}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":92,"column":32},"generated":{"line":1,"column":1255}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":92,"column":36},"generated":{"line":1,"column":1257}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":92,"column":41},"generated":{"line":1,"column":1262}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":92,"column":47},"generated":{"line":1,"column":1267}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":93,"column":6},"generated":{"line":1,"column":1271}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":93,"column":17},"generated":{"line":1,"column":1277}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":93,"column":22},"generated":{"line":1,"column":1279}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":94,"column":10},"generated":{"line":1,"column":1288}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":94,"column":15},"generated":{"line":1,"column":1293}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":94,"column":49},"generated":{"line":1,"column":1325}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":94,"column":56},"generated":{"line":1,"column":1330}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":94,"column":61},"generated":{"line":1,"column":1335}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":94,"column":73},"generated":{"line":1,"column":1347}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":95,"column":10},"generated":{"line":1,"column":1352}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":95,"column":14},"generated":{"line":1,"column":1354}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":95,"column":19},"generated":{"line":1,"column":1359}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":95,"column":26},"generated":{"line":1,"column":1364}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":96,"column":8},"generated":{"line":1,"column":1368}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":96,"column":16},"generated":{"line":1,"column":1371}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":100,"column":11},"generated":{"line":1,"column":1377}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":100,"column":11},"generated":{"line":1,"column":1384}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":103,"column":10},"generated":{"line":1,"column":1386}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":103,"column":19},"generated":{"line":1,"column":1395}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":104,"column":8},"generated":{"line":1,"column":1398}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":104,"column":22},"generated":{"line":1,"column":1401}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":104,"column":8},"generated":{"line":1,"column":1405}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":104,"column":13},"generated":{"line":1,"column":1410}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":105,"column":13},"generated":{"line":1,"column":1415}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":105,"column":13},"generated":{"line":1,"column":1421}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":108,"column":10},"generated":{"line":1,"column":1424}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":108,"column":10},"generated":{"line":1,"column":1430}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":108,"column":22},"generated":{"line":1,"column":1432}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":108,"column":27},"generated":{"line":1,"column":1434}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":108,"column":34},"generated":{"line":1,"column":1441}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":109,"column":10},"generated":{"line":1,"column":1444}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":109,"column":16},"generated":{"line":1,"column":1446}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":109,"column":21},"generated":{"line":1,"column":1451}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":109,"column":55},"generated":{"line":1,"column":1483}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":109,"column":60},"generated":{"line":1,"column":1488}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":110,"column":43},"generated":{"line":1,"column":1500}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":110,"column":48},"generated":{"line":1,"column":1505}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":110,"column":60},"generated":{"line":1,"column":1517}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":110,"column":65},"generated":{"line":1,"column":1522}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":110,"column":72},"generated":{"line":1,"column":1527}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":111,"column":10},"generated":{"line":1,"column":1530}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":111,"column":16},"generated":{"line":1,"column":1532}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":111,"column":21},"generated":{"line":1,"column":1537}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":111,"column":55},"generated":{"line":1,"column":1569}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":111,"column":60},"generated":{"line":1,"column":1574}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":112,"column":43},"generated":{"line":1,"column":1586}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":112,"column":48},"generated":{"line":1,"column":1591}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":112,"column":60},"generated":{"line":1,"column":1603}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":112,"column":65},"generated":{"line":1,"column":1608}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":112,"column":72},"generated":{"line":1,"column":1613}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":114,"column":11},"generated":{"line":1,"column":1616}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":115,"column":16},"generated":{"line":1,"column":1641}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":115,"column":26},"generated":{"line":1,"column":1643}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":116,"column":16},"generated":{"line":1,"column":1665}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":116,"column":26},"generated":{"line":1,"column":1667}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":120,"column":28},"generated":{"line":1,"column":1751}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":121,"column":28},"generated":{"line":1,"column":1784}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":125,"column":10},"generated":{"line":1,"column":1795}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":125,"column":20},"generated":{"line":1,"column":1805}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":126,"column":10},"generated":{"line":1,"column":1808}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":126,"column":10},"generated":{"line":1,"column":1814}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":126,"column":25},"generated":{"line":1,"column":1816}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":126,"column":30},"generated":{"line":1,"column":1821}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":126,"column":49},"generated":{"line":1,"column":1840}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":127,"column":8},"generated":{"line":1,"column":1843}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":127,"column":22},"generated":{"line":1,"column":1846}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":127,"column":8},"generated":{"line":1,"column":1850}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":127,"column":13},"generated":{"line":1,"column":1855}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":127,"column":25},"generated":{"line":1,"column":1860}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":130,"column":13},"generated":{"line":1,"column":1861}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":129,"column":10},"generated":{"line":1,"column":1891}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":129,"column":15},"generated":{"line":1,"column":1896}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":129,"column":37},"generated":{"line":1,"column":1916}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":129,"column":50},"generated":{"line":1,"column":1927}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":129,"column":55},"generated":{"line":1,"column":1932}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":129,"column":67},"generated":{"line":1,"column":1944}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":133,"column":11},"generated":{"line":1,"column":1976}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":133,"column":19},"generated":{"line":1,"column":1990}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":133,"column":32},"generated":{"line":1,"column":1992}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":134,"column":32},"generated":{"line":1,"column":2031}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":134,"column":45},"generated":{"line":1,"column":2033}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":135,"column":32},"generated":{"line":1,"column":2072}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":135,"column":45},"generated":{"line":1,"column":2074}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":136,"column":41},"generated":{"line":1,"column":2122}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":136,"column":54},"generated":{"line":1,"column":2124}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":2131}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":2139}},{"source":"../../../../../tfjs-backend-webgl/src/pack_gpu.ts","name":null,"original":{"line":22,"column":24},"generated":{"line":1,"column":2151}}],"sources":{"../../../../../tfjs-backend-webgl/src/pack_gpu.ts":"/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {GPGPUProgram, useShapeUniforms} from './gpgpu_math';\nimport {getChannels} from './packing_util';\nimport {getCoordsDataType} from './shader_compiler';\n\nexport class PackProgram implements GPGPUProgram {\n  variableNames = ['A'];\n  outputShape: number[];\n  userCode: string;\n  packedInputs = false;\n  packedOutput = true;\n  enableShapeUniforms: boolean;\n  rank: number;\n\n  constructor(\n      outputShape:\n          number[]) {  // TODO(https://github.com/tensorflow/tfjs/issues/893):\n                       // Only input / output 3D tensors.\n    this.outputShape = outputShape;\n    this.rank = outputShape.length;\n    this.enableShapeUniforms = useShapeUniforms(this.outputShape.length);\n\n    if (this.rank === 0) {\n      this.userCode = `\n        void main() {\n          setOutput(vec4(getA(), 0., 0., 0.));\n        }\n      `;\n    } else {\n      const channels = getChannels('rc', this.rank);\n      const dtype = getCoordsDataType(this.rank);\n      const outOfBoundsCondition = this.getOutOfBoundsCondition(channels);\n      const setup = this.getSetup(channels);\n      const output = this.getOutput(channels);\n\n      this.userCode = `\n        void main() {\n          ${dtype} rc = getOutputCoords();\n\n          if(${outOfBoundsCondition}) {\n            setOutput(vec4(0));\n          } else {\n            ${setup}\n\n            setOutput(vec4(${output}));\n          }\n        }\n      `;\n    }\n  }\n\n  private getSourceCoordsArr(dims: string[]): string[] {\n    const coords = [];\n\n    for (let row = 0; row <= 1; row++) {\n      for (let col = 0; col <= 1; col++) {\n        let coord = `${row === 0 ? 'r' : 'rp1'}, ${col === 0 ? 'c' : 'cp1'}`;\n\n        for (let d = 2; d < this.rank; d++) {\n          coord = `${dims[dims.length - 1 - d]},` + coord;\n        }\n\n        coords.push(coord);\n      }\n    }\n    return coords;\n  }\n\n  private getOutOfBoundsCondition(dims: string[]): string {\n    if (this.rank === 1) {\n      return `rc > ${\n          this.enableShapeUniforms ? 'outShape' : this.outputShape[0]}`;\n    }\n\n    let cond = '';\n    for (let i = this.rank - 2; i < this.rank; i++) {\n      cond += `${dims[i]} >= ${\n          this.enableShapeUniforms ? `outShape[${i}]` : this.outputShape[i]}`;\n      if (i < this.rank - 1) {\n        cond += '||';\n      }\n    }\n\n    return cond;\n  }\n\n  private getSetup(dims: string[]): string {\n    if (this.rank === 1) {\n      return '';\n    }\n\n    const innerDims = dims.slice(-2);\n    const col = this.enableShapeUniforms ? `outShape[${this.rank} - 1]` :\n                                           this.outputShape[this.rank - 1];\n    const row = this.enableShapeUniforms ? `outShape[${this.rank} - 2]` :\n                                           this.outputShape[this.rank - 2];\n\n    return `\n      int r = ${innerDims[0]};\n      int c = ${innerDims[1]};\n      int rp1 = r + 1;\n      int cp1 = c + 1;\n\n      bool cEdge = cp1 >= ${col};\n      bool rEdge = rp1 >= ${row};\n    `;\n  }\n\n  private getOutput(dims: string[]): string {\n    const sourceCoords = this.getSourceCoordsArr(dims);\n    if (this.rank === 1) {\n      const outShape =\n          this.enableShapeUniforms ? 'outShape' : this.outputShape[0];\n      return `getA(rc), (rc + 1 >= ${outShape} ? 0. : getA(rc + 1)), 0, 0`;\n    }\n\n    return `getA(${sourceCoords[0]}),\n            cEdge ? 0. : getA(${sourceCoords[1]}),\n            rEdge ? 0. : getA(${sourceCoords[2]}),\n            rEdge || cEdge ? 0. : getA(${sourceCoords[3]})`;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"a1637bcfaf63913fb08a9e32e3b08058","cacheData":{"env":{}}}