{"id":"d6sW","dependencies":[{"name":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\package.json","includedInParent":true,"mtime":1646070802568},{"name":"./game.js","loc":{"line":1,"column":17,"index":17},"parent":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\src\\js\\main.js","resolved":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\src\\js\\game.js"},{"name":"./utils.js","loc":{"line":2,"column":18,"index":49},"parent":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\src\\js\\main.js","resolved":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\src\\js\\utils.js"},{"name":"./tracking.js","loc":{"line":3,"column":21,"index":85},"parent":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\src\\js\\main.js","resolved":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\src\\js\\tracking.js"},{"name":"three/examples/jsm/controls/OrbitControls","loc":{"line":4,"column":30,"index":133},"parent":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\src\\js\\main.js","resolved":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\three\\examples\\jsm\\controls\\OrbitControls.js"},{"name":"../classes/JellyFish","loc":{"line":5,"column":24,"index":203},"parent":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\src\\js\\main.js","resolved":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\src\\classes\\JellyFish.js"},{"name":"@tensorflow/tfjs-core","loc":{"line":6,"column":21,"index":249},"parent":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\src\\js\\main.js","resolved":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\@tensorflow\\tfjs-core\\dist\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=a(require(\"./game.js\")),n=a(require(\"./utils.js\")),t=a(require(\"./tracking.js\")),r=require(\"three/examples/jsm/controls/OrbitControls\"),o=require(\"../classes/JellyFish\"),i=require(\"@tensorflow/tfjs-core\");function a(e){return e&&e.__esModule?e:{default:e}}var d,s,c={},l=new o.JellyFish,u=[],f=[],m=[],g=document.querySelector(\"#webcam\"),p=1500,h=\"Orbit Controls are enabled. Click to log current pose predictions.\",w=function(){c=e.default.assembleScene(),d=new r.OrbitControls(c.camera,c.renderer.domElement),e.default.assemblePortal(),q(),t.default.init(),y(),c.renderer.render(c.scene,c.camera),d.update(),v(),j()},v=function e(){requestAnimationFrame(e),c.scene.children.forEach(function(e){\"Mesh\"===e.type&&(e.position.x+=n.default.random(-.5,.5),e.position.y+=n.default.random(-.5,.5),e.position.z+=n.default.random(-.5,.5),e.rotation.x+=.01,e.rotation.y+=.01,e.rotation.z+=.01)}),c.renderer.render(c.scene,c.camera)},b=function e(){var n=t.default.getPredictions(g);n.then(function(n){s=n,setTimeout(e,p)}),n.catch(function(e){console.log(e)})},y=function(){document.querySelector(\"body\").appendChild(c.renderer.domElement),window.addEventListener(\"resize\",function(){c.renderer.setSize(window.innerWidth,window.innerHeight),c.camera.aspect=window.innerWidth/window.innerHeight,c.camera.updateProjectionMatrix()}),navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){g.srcObject=e,g.addEventListener(\"loadeddata\",b)}),window.addEventListener(\"click\",function(){console.log(s)})},j=function(){console.log(\"Instructions: \",h),console.log(\"Backend: \",t.default.logBackend()),console.log(\"Experience:\",c),console.log(\"Entity Sample:\",l)},q=function(){e.default.generateCharacters().forEach(function(e){return c.scene.add(e)})},E={init:w,gameObjects:u,masterAnimations:f,portalVideos:m};exports.default=E;"},"sourceMaps":{"js":{"mappings":[{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":0}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":13}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":20}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":35}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":43}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":56}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":57}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":64}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":68}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":76}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":89}},{"source":"js/main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"js/main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"js/main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"js/main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"js/main.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"js/main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":121}},{"source":"js/main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":123}},{"source":"js/main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"js/main.js","original":{"line":2,"column":0},"generated":{"line":1,"column":133}},{"source":"js/main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":148}},{"source":"js/main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":150}},{"source":"js/main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":152}},{"source":"js/main.js","original":{"line":3,"column":0},"generated":{"line":1,"column":160}},{"source":"js/main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":178}},{"source":"js/main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":180}},{"source":"js/main.js","original":{"line":4,"column":0},"generated":{"line":1,"column":188}},{"source":"js/main.js","original":{"line":5,"column":0},"generated":{"line":1,"column":233}},{"source":"js/main.js","original":{"line":5,"column":0},"generated":{"line":1,"column":235}},{"source":"js/main.js","original":{"line":5,"column":0},"generated":{"line":1,"column":243}},{"source":"js/main.js","original":{"line":6,"column":0},"generated":{"line":1,"column":267}},{"source":"js/main.js","original":{"line":6,"column":0},"generated":{"line":1,"column":269}},{"source":"js/main.js","original":{"line":6,"column":0},"generated":{"line":1,"column":277}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":302}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":311}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":313}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":316}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":323}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":326}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":328}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":339}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":341}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":342}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":350}},{"source":"js/main.js","original":{"line":16,"column":0},"generated":{"line":1,"column":353}},{"source":"js/main.js","name":"controls","original":{"line":17,"column":4},"generated":{"line":1,"column":357}},{"source":"js/main.js","name":"poses","original":{"line":18,"column":4},"generated":{"line":1,"column":359}},{"source":"js/main.js","name":"experience","original":{"line":16,"column":4},"generated":{"line":1,"column":361}},{"source":"js/main.js","original":{"line":16,"column":17},"generated":{"line":1,"column":363}},{"source":"js/main.js","name":"aJellyFish","original":{"line":19,"column":4},"generated":{"line":1,"column":366}},{"source":"js/main.js","original":{"line":19,"column":17},"generated":{"line":1,"column":368}},{"source":"js/main.js","name":"JellyFish","original":{"line":19,"column":21},"generated":{"line":1,"column":372}},{"source":"js/main.js","original":{"line":19,"column":17},"generated":{"line":1,"column":374}},{"source":"js/main.js","name":"gameObjects","original":{"line":20,"column":4},"generated":{"line":1,"column":384}},{"source":"js/main.js","original":{"line":20,"column":18},"generated":{"line":1,"column":386}},{"source":"js/main.js","name":"masterAnimations","original":{"line":21,"column":4},"generated":{"line":1,"column":389}},{"source":"js/main.js","original":{"line":21,"column":23},"generated":{"line":1,"column":391}},{"source":"js/main.js","name":"portalVideos","original":{"line":22,"column":4},"generated":{"line":1,"column":394}},{"source":"js/main.js","original":{"line":22,"column":19},"generated":{"line":1,"column":396}},{"source":"js/main.js","name":"video","original":{"line":26,"column":6},"generated":{"line":1,"column":399}},{"source":"js/main.js","name":"document","original":{"line":26,"column":14},"generated":{"line":1,"column":401}},{"source":"js/main.js","name":"querySelector","original":{"line":26,"column":23},"generated":{"line":1,"column":410}},{"source":"js/main.js","original":{"line":26,"column":37},"generated":{"line":1,"column":424}},{"source":"js/main.js","name":"predictionDelay","original":{"line":27,"column":6},"generated":{"line":1,"column":435}},{"source":"js/main.js","original":{"line":27,"column":24},"generated":{"line":1,"column":437}},{"source":"js/main.js","name":"instructions","original":{"line":28,"column":6},"generated":{"line":1,"column":442}},{"source":"js/main.js","original":{"line":28,"column":21},"generated":{"line":1,"column":444}},{"source":"js/main.js","name":"init","original":{"line":33,"column":6},"generated":{"line":1,"column":513}},{"source":"js/main.js","original":{"line":33,"column":13},"generated":{"line":1,"column":515}},{"source":"js/main.js","name":"experience","original":{"line":35,"column":4},"generated":{"line":1,"column":526}},{"source":"js/main.js","name":"game","original":{"line":35,"column":17},"generated":{"line":1,"column":528}},{"source":"js/main.js","name":"assembleScene","original":{"line":35,"column":22},"generated":{"line":1,"column":530}},{"source":"js/main.js","name":"assembleScene","original":{"line":35,"column":22},"generated":{"line":1,"column":538}},{"source":"js/main.js","name":"controls","original":{"line":37,"column":4},"generated":{"line":1,"column":554}},{"source":"js/main.js","original":{"line":37,"column":15},"generated":{"line":1,"column":556}},{"source":"js/main.js","name":"OrbitControls","original":{"line":37,"column":19},"generated":{"line":1,"column":560}},{"source":"js/main.js","original":{"line":37,"column":15},"generated":{"line":1,"column":562}},{"source":"js/main.js","name":"experience","original":{"line":37,"column":34},"generated":{"line":1,"column":576}},{"source":"js/main.js","name":"camera","original":{"line":37,"column":45},"generated":{"line":1,"column":578}},{"source":"js/main.js","name":"experience","original":{"line":37,"column":53},"generated":{"line":1,"column":585}},{"source":"js/main.js","name":"renderer","original":{"line":37,"column":64},"generated":{"line":1,"column":587}},{"source":"js/main.js","name":"domElement","original":{"line":37,"column":73},"generated":{"line":1,"column":596}},{"source":"js/main.js","name":"assemblePortal","original":{"line":40,"column":9},"generated":{"line":1,"column":608}},{"source":"js/main.js","name":"assemblePortal","original":{"line":40,"column":9},"generated":{"line":1,"column":610}},{"source":"js/main.js","name":"assemblePortal","original":{"line":40,"column":9},"generated":{"line":1,"column":618}},{"source":"js/main.js","name":"populateScene","original":{"line":42,"column":4},"generated":{"line":1,"column":635}},{"source":"js/main.js","name":"init","original":{"line":44,"column":13},"generated":{"line":1,"column":639}},{"source":"js/main.js","name":"init","original":{"line":44,"column":13},"generated":{"line":1,"column":641}},{"source":"js/main.js","name":"init","original":{"line":44,"column":13},"generated":{"line":1,"column":649}},{"source":"js/main.js","name":"mount","original":{"line":46,"column":4},"generated":{"line":1,"column":656}},{"source":"js/main.js","name":"experience","original":{"line":48,"column":4},"generated":{"line":1,"column":660}},{"source":"js/main.js","name":"renderer","original":{"line":48,"column":15},"generated":{"line":1,"column":662}},{"source":"js/main.js","name":"render","original":{"line":48,"column":24},"generated":{"line":1,"column":671}},{"source":"js/main.js","name":"experience","original":{"line":48,"column":31},"generated":{"line":1,"column":678}},{"source":"js/main.js","name":"scene","original":{"line":48,"column":42},"generated":{"line":1,"column":680}},{"source":"js/main.js","name":"experience","original":{"line":48,"column":48},"generated":{"line":1,"column":686}},{"source":"js/main.js","name":"camera","original":{"line":48,"column":59},"generated":{"line":1,"column":688}},{"source":"js/main.js","name":"controls","original":{"line":49,"column":4},"generated":{"line":1,"column":696}},{"source":"js/main.js","name":"update","original":{"line":49,"column":13},"generated":{"line":1,"column":698}},{"source":"js/main.js","name":"animate","original":{"line":51,"column":4},"generated":{"line":1,"column":707}},{"source":"js/main.js","name":"devMessages","original":{"line":53,"column":4},"generated":{"line":1,"column":711}},{"source":"js/main.js","name":"animate","original":{"line":56,"column":6},"generated":{"line":1,"column":716}},{"source":"js/main.js","original":{"line":56,"column":16},"generated":{"line":1,"column":718}},{"source":"js/main.js","name":"animate","original":{"line":56,"column":6},"generated":{"line":1,"column":727}},{"source":"js/main.js","name":"requestAnimationFrame","original":{"line":57,"column":4},"generated":{"line":1,"column":731}},{"source":"js/main.js","name":"animate","original":{"line":57,"column":26},"generated":{"line":1,"column":753}},{"source":"js/main.js","name":"experience","original":{"line":59,"column":4},"generated":{"line":1,"column":756}},{"source":"js/main.js","name":"scene","original":{"line":59,"column":15},"generated":{"line":1,"column":758}},{"source":"js/main.js","name":"children","original":{"line":59,"column":21},"generated":{"line":1,"column":764}},{"source":"js/main.js","name":"forEach","original":{"line":59,"column":30},"generated":{"line":1,"column":773}},{"source":"js/main.js","original":{"line":59,"column":38},"generated":{"line":1,"column":781}},{"source":"js/main.js","name":"object","original":{"line":59,"column":38},"generated":{"line":1,"column":790}},{"source":"js/main.js","original":{"line":60,"column":27},"generated":{"line":1,"column":793}},{"source":"js/main.js","name":"object","original":{"line":60,"column":11},"generated":{"line":1,"column":802}},{"source":"js/main.js","name":"type","original":{"line":60,"column":18},"generated":{"line":1,"column":804}},{"source":"js/main.js","name":"object","original":{"line":61,"column":12},"generated":{"line":1,"column":811}},{"source":"js/main.js","name":"position","original":{"line":61,"column":19},"generated":{"line":1,"column":813}},{"source":"js/main.js","name":"x","original":{"line":61,"column":28},"generated":{"line":1,"column":822}},{"source":"js/main.js","name":"utils","original":{"line":61,"column":33},"generated":{"line":1,"column":825}},{"source":"js/main.js","name":"random","original":{"line":61,"column":39},"generated":{"line":1,"column":827}},{"source":"js/main.js","name":"random","original":{"line":61,"column":39},"generated":{"line":1,"column":835}},{"source":"js/main.js","original":{"line":61,"column":47},"generated":{"line":1,"column":843}},{"source":"js/main.js","original":{"line":61,"column":51},"generated":{"line":1,"column":846}},{"source":"js/main.js","name":"object","original":{"line":62,"column":12},"generated":{"line":1,"column":850}},{"source":"js/main.js","name":"position","original":{"line":62,"column":19},"generated":{"line":1,"column":852}},{"source":"js/main.js","name":"y","original":{"line":62,"column":28},"generated":{"line":1,"column":861}},{"source":"js/main.js","name":"utils","original":{"line":62,"column":33},"generated":{"line":1,"column":864}},{"source":"js/main.js","name":"random","original":{"line":62,"column":39},"generated":{"line":1,"column":866}},{"source":"js/main.js","name":"random","original":{"line":62,"column":39},"generated":{"line":1,"column":874}},{"source":"js/main.js","original":{"line":62,"column":47},"generated":{"line":1,"column":882}},{"source":"js/main.js","original":{"line":62,"column":51},"generated":{"line":1,"column":885}},{"source":"js/main.js","name":"object","original":{"line":63,"column":12},"generated":{"line":1,"column":889}},{"source":"js/main.js","name":"position","original":{"line":63,"column":19},"generated":{"line":1,"column":891}},{"source":"js/main.js","name":"z","original":{"line":63,"column":28},"generated":{"line":1,"column":900}},{"source":"js/main.js","name":"utils","original":{"line":63,"column":33},"generated":{"line":1,"column":903}},{"source":"js/main.js","name":"random","original":{"line":63,"column":39},"generated":{"line":1,"column":905}},{"source":"js/main.js","name":"random","original":{"line":63,"column":39},"generated":{"line":1,"column":913}},{"source":"js/main.js","original":{"line":63,"column":47},"generated":{"line":1,"column":921}},{"source":"js/main.js","original":{"line":63,"column":51},"generated":{"line":1,"column":924}},{"source":"js/main.js","name":"object","original":{"line":65,"column":12},"generated":{"line":1,"column":928}},{"source":"js/main.js","name":"rotation","original":{"line":65,"column":19},"generated":{"line":1,"column":930}},{"source":"js/main.js","name":"x","original":{"line":65,"column":28},"generated":{"line":1,"column":939}},{"source":"js/main.js","original":{"line":65,"column":33},"generated":{"line":1,"column":942}},{"source":"js/main.js","name":"object","original":{"line":66,"column":12},"generated":{"line":1,"column":946}},{"source":"js/main.js","name":"rotation","original":{"line":66,"column":19},"generated":{"line":1,"column":948}},{"source":"js/main.js","name":"y","original":{"line":66,"column":28},"generated":{"line":1,"column":957}},{"source":"js/main.js","original":{"line":66,"column":33},"generated":{"line":1,"column":960}},{"source":"js/main.js","name":"object","original":{"line":67,"column":12},"generated":{"line":1,"column":964}},{"source":"js/main.js","name":"rotation","original":{"line":67,"column":19},"generated":{"line":1,"column":966}},{"source":"js/main.js","name":"z","original":{"line":67,"column":28},"generated":{"line":1,"column":975}},{"source":"js/main.js","original":{"line":67,"column":33},"generated":{"line":1,"column":978}},{"source":"js/main.js","name":"experience","original":{"line":72,"column":4},"generated":{"line":1,"column":985}},{"source":"js/main.js","name":"renderer","original":{"line":72,"column":15},"generated":{"line":1,"column":987}},{"source":"js/main.js","name":"render","original":{"line":72,"column":24},"generated":{"line":1,"column":996}},{"source":"js/main.js","name":"experience","original":{"line":72,"column":31},"generated":{"line":1,"column":1003}},{"source":"js/main.js","name":"scene","original":{"line":72,"column":42},"generated":{"line":1,"column":1005}},{"source":"js/main.js","name":"experience","original":{"line":72,"column":48},"generated":{"line":1,"column":1011}},{"source":"js/main.js","name":"camera","original":{"line":72,"column":59},"generated":{"line":1,"column":1013}},{"source":"js/main.js","name":"predictVideo","original":{"line":81,"column":6},"generated":{"line":1,"column":1022}},{"source":"js/main.js","original":{"line":81,"column":21},"generated":{"line":1,"column":1024}},{"source":"js/main.js","name":"predictVideo","original":{"line":81,"column":6},"generated":{"line":1,"column":1033}},{"source":"js/main.js","name":"prediction","original":{"line":82,"column":10},"generated":{"line":1,"column":1037}},{"source":"js/main.js","name":"prediction","original":{"line":82,"column":10},"generated":{"line":1,"column":1041}},{"source":"js/main.js","name":"tracking","original":{"line":82,"column":23},"generated":{"line":1,"column":1043}},{"source":"js/main.js","name":"getPredictions","original":{"line":82,"column":32},"generated":{"line":1,"column":1045}},{"source":"js/main.js","name":"getPredictions","original":{"line":82,"column":32},"generated":{"line":1,"column":1053}},{"source":"js/main.js","name":"video","original":{"line":82,"column":47},"generated":{"line":1,"column":1068}},{"source":"js/main.js","name":"prediction","original":{"line":84,"column":4},"generated":{"line":1,"column":1071}},{"source":"js/main.js","name":"then","original":{"line":84,"column":15},"generated":{"line":1,"column":1073}},{"source":"js/main.js","original":{"line":84,"column":20},"generated":{"line":1,"column":1078}},{"source":"js/main.js","name":"result","original":{"line":84,"column":21},"generated":{"line":1,"column":1087}},{"source":"js/main.js","name":"poses","original":{"line":85,"column":8},"generated":{"line":1,"column":1090}},{"source":"js/main.js","name":"result","original":{"line":85,"column":16},"generated":{"line":1,"column":1092}},{"source":"js/main.js","name":"setTimeout","original":{"line":86,"column":8},"generated":{"line":1,"column":1094}},{"source":"js/main.js","name":"predictVideo","original":{"line":86,"column":19},"generated":{"line":1,"column":1105}},{"source":"js/main.js","name":"predictionDelay","original":{"line":86,"column":33},"generated":{"line":1,"column":1107}},{"source":"js/main.js","name":"prediction","original":{"line":89,"column":4},"generated":{"line":1,"column":1112}},{"source":"js/main.js","name":"catch","original":{"line":89,"column":15},"generated":{"line":1,"column":1114}},{"source":"js/main.js","original":{"line":89,"column":21},"generated":{"line":1,"column":1120}},{"source":"js/main.js","name":"err","original":{"line":89,"column":22},"generated":{"line":1,"column":1129}},{"source":"js/main.js","name":"console","original":{"line":89,"column":29},"generated":{"line":1,"column":1132}},{"source":"js/main.js","name":"log","original":{"line":89,"column":37},"generated":{"line":1,"column":1140}},{"source":"js/main.js","name":"err","original":{"line":89,"column":41},"generated":{"line":1,"column":1144}},{"source":"js/main.js","name":"mount","original":{"line":92,"column":6},"generated":{"line":1,"column":1150}},{"source":"js/main.js","original":{"line":92,"column":14},"generated":{"line":1,"column":1152}},{"source":"js/main.js","name":"document","original":{"line":95,"column":4},"generated":{"line":1,"column":1163}},{"source":"js/main.js","name":"querySelector","original":{"line":95,"column":13},"generated":{"line":1,"column":1172}},{"source":"js/main.js","original":{"line":95,"column":27},"generated":{"line":1,"column":1186}},{"source":"js/main.js","name":"appendChild","original":{"line":95,"column":35},"generated":{"line":1,"column":1194}},{"source":"js/main.js","name":"experience","original":{"line":95,"column":47},"generated":{"line":1,"column":1206}},{"source":"js/main.js","name":"renderer","original":{"line":95,"column":58},"generated":{"line":1,"column":1208}},{"source":"js/main.js","name":"domElement","original":{"line":95,"column":67},"generated":{"line":1,"column":1217}},{"source":"js/main.js","name":"window","original":{"line":98,"column":4},"generated":{"line":1,"column":1229}},{"source":"js/main.js","name":"addEventListener","original":{"line":98,"column":11},"generated":{"line":1,"column":1236}},{"source":"js/main.js","original":{"line":98,"column":28},"generated":{"line":1,"column":1253}},{"source":"js/main.js","original":{"line":98,"column":38},"generated":{"line":1,"column":1262}},{"source":"js/main.js","name":"experience","original":{"line":99,"column":8},"generated":{"line":1,"column":1273}},{"source":"js/main.js","name":"renderer","original":{"line":99,"column":19},"generated":{"line":1,"column":1275}},{"source":"js/main.js","name":"setSize","original":{"line":99,"column":28},"generated":{"line":1,"column":1284}},{"source":"js/main.js","name":"window","original":{"line":99,"column":36},"generated":{"line":1,"column":1292}},{"source":"js/main.js","name":"innerWidth","original":{"line":99,"column":43},"generated":{"line":1,"column":1299}},{"source":"js/main.js","name":"window","original":{"line":99,"column":55},"generated":{"line":1,"column":1310}},{"source":"js/main.js","name":"innerHeight","original":{"line":99,"column":62},"generated":{"line":1,"column":1317}},{"source":"js/main.js","name":"experience","original":{"line":100,"column":8},"generated":{"line":1,"column":1330}},{"source":"js/main.js","name":"camera","original":{"line":100,"column":19},"generated":{"line":1,"column":1332}},{"source":"js/main.js","name":"aspect","original":{"line":100,"column":26},"generated":{"line":1,"column":1339}},{"source":"js/main.js","name":"window","original":{"line":100,"column":35},"generated":{"line":1,"column":1346}},{"source":"js/main.js","name":"innerWidth","original":{"line":100,"column":42},"generated":{"line":1,"column":1353}},{"source":"js/main.js","name":"window","original":{"line":100,"column":55},"generated":{"line":1,"column":1364}},{"source":"js/main.js","name":"innerHeight","original":{"line":100,"column":62},"generated":{"line":1,"column":1371}},{"source":"js/main.js","name":"experience","original":{"line":101,"column":8},"generated":{"line":1,"column":1383}},{"source":"js/main.js","name":"camera","original":{"line":101,"column":19},"generated":{"line":1,"column":1385}},{"source":"js/main.js","name":"updateProjectionMatrix","original":{"line":101,"column":26},"generated":{"line":1,"column":1392}},{"source":"js/main.js","name":"navigator","original":{"line":105,"column":8},"generated":{"line":1,"column":1419}},{"source":"js/main.js","name":"mediaDevices","original":{"line":105,"column":18},"generated":{"line":1,"column":1429}},{"source":"js/main.js","name":"getUserMedia","original":{"line":105,"column":31},"generated":{"line":1,"column":1442}},{"source":"js/main.js","name":"navigator","original":{"line":106,"column":8},"generated":{"line":1,"column":1456}},{"source":"js/main.js","name":"mediaDevices","original":{"line":106,"column":18},"generated":{"line":1,"column":1466}},{"source":"js/main.js","name":"getUserMedia","original":{"line":106,"column":31},"generated":{"line":1,"column":1479}},{"source":"js/main.js","original":{"line":106,"column":44},"generated":{"line":1,"column":1492}},{"source":"js/main.js","name":"video","original":{"line":106,"column":46},"generated":{"line":1,"column":1493}},{"source":"js/main.js","original":{"line":106,"column":53},"generated":{"line":1,"column":1500}},{"source":"js/main.js","name":"then","original":{"line":107,"column":13},"generated":{"line":1,"column":1504}},{"source":"js/main.js","original":{"line":107,"column":18},"generated":{"line":1,"column":1509}},{"source":"js/main.js","name":"stream","original":{"line":107,"column":28},"generated":{"line":1,"column":1518}},{"source":"js/main.js","name":"video","original":{"line":108,"column":16},"generated":{"line":1,"column":1521}},{"source":"js/main.js","name":"srcObject","original":{"line":108,"column":22},"generated":{"line":1,"column":1523}},{"source":"js/main.js","name":"stream","original":{"line":108,"column":34},"generated":{"line":1,"column":1533}},{"source":"js/main.js","name":"video","original":{"line":109,"column":16},"generated":{"line":1,"column":1535}},{"source":"js/main.js","name":"addEventListener","original":{"line":109,"column":22},"generated":{"line":1,"column":1537}},{"source":"js/main.js","original":{"line":109,"column":39},"generated":{"line":1,"column":1554}},{"source":"js/main.js","name":"predictVideo","original":{"line":109,"column":53},"generated":{"line":1,"column":1567}},{"source":"js/main.js","name":"window","original":{"line":114,"column":4},"generated":{"line":1,"column":1572}},{"source":"js/main.js","name":"addEventListener","original":{"line":114,"column":11},"generated":{"line":1,"column":1579}},{"source":"js/main.js","original":{"line":114,"column":28},"generated":{"line":1,"column":1596}},{"source":"js/main.js","original":{"line":114,"column":37},"generated":{"line":1,"column":1604}},{"source":"js/main.js","name":"console","original":{"line":114,"column":42},"generated":{"line":1,"column":1615}},{"source":"js/main.js","name":"log","original":{"line":114,"column":50},"generated":{"line":1,"column":1623}},{"source":"js/main.js","name":"poses","original":{"line":114,"column":54},"generated":{"line":1,"column":1627}},{"source":"js/main.js","name":"devMessages","original":{"line":118,"column":6},"generated":{"line":1,"column":1633}},{"source":"js/main.js","original":{"line":118,"column":20},"generated":{"line":1,"column":1635}},{"source":"js/main.js","name":"console","original":{"line":119,"column":4},"generated":{"line":1,"column":1646}},{"source":"js/main.js","name":"log","original":{"line":119,"column":12},"generated":{"line":1,"column":1654}},{"source":"js/main.js","original":{"line":119,"column":16},"generated":{"line":1,"column":1658}},{"source":"js/main.js","name":"instructions","original":{"line":119,"column":33},"generated":{"line":1,"column":1675}},{"source":"js/main.js","name":"console","original":{"line":120,"column":4},"generated":{"line":1,"column":1678}},{"source":"js/main.js","name":"log","original":{"line":120,"column":12},"generated":{"line":1,"column":1686}},{"source":"js/main.js","original":{"line":120,"column":16},"generated":{"line":1,"column":1690}},{"source":"js/main.js","name":"tracking","original":{"line":120,"column":29},"generated":{"line":1,"column":1702}},{"source":"js/main.js","name":"logBackend","original":{"line":120,"column":38},"generated":{"line":1,"column":1704}},{"source":"js/main.js","name":"logBackend","original":{"line":120,"column":38},"generated":{"line":1,"column":1712}},{"source":"js/main.js","name":"console","original":{"line":121,"column":4},"generated":{"line":1,"column":1726}},{"source":"js/main.js","name":"log","original":{"line":121,"column":12},"generated":{"line":1,"column":1734}},{"source":"js/main.js","original":{"line":121,"column":16},"generated":{"line":1,"column":1738}},{"source":"js/main.js","name":"experience","original":{"line":121,"column":30},"generated":{"line":1,"column":1752}},{"source":"js/main.js","name":"console","original":{"line":122,"column":4},"generated":{"line":1,"column":1755}},{"source":"js/main.js","name":"log","original":{"line":122,"column":12},"generated":{"line":1,"column":1763}},{"source":"js/main.js","original":{"line":122,"column":16},"generated":{"line":1,"column":1767}},{"source":"js/main.js","name":"aJellyFish","original":{"line":122,"column":33},"generated":{"line":1,"column":1784}},{"source":"js/main.js","name":"populateScene","original":{"line":125,"column":6},"generated":{"line":1,"column":1788}},{"source":"js/main.js","original":{"line":125,"column":22},"generated":{"line":1,"column":1790}},{"source":"js/main.js","name":"generateCharacters","original":{"line":135,"column":9},"generated":{"line":1,"column":1801}},{"source":"js/main.js","name":"generateCharacters","original":{"line":135,"column":9},"generated":{"line":1,"column":1803}},{"source":"js/main.js","name":"generateCharacters","original":{"line":135,"column":9},"generated":{"line":1,"column":1811}},{"source":"js/main.js","name":"forEach","original":{"line":135,"column":30},"generated":{"line":1,"column":1832}},{"source":"js/main.js","original":{"line":135,"column":38},"generated":{"line":1,"column":1840}},{"source":"js/main.js","name":"object","original":{"line":135,"column":38},"generated":{"line":1,"column":1849}},{"source":"js/main.js","name":"experience","original":{"line":135,"column":46},"generated":{"line":1,"column":1852}},{"source":"js/main.js","name":"experience","original":{"line":135,"column":46},"generated":{"line":1,"column":1859}},{"source":"js/main.js","name":"scene","original":{"line":135,"column":57},"generated":{"line":1,"column":1861}},{"source":"js/main.js","name":"add","original":{"line":135,"column":63},"generated":{"line":1,"column":1867}},{"source":"js/main.js","name":"object","original":{"line":135,"column":67},"generated":{"line":1,"column":1871}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":1877}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":1879}},{"source":"js/main.js","name":"init","original":{"line":140,"column":17},"generated":{"line":1,"column":1880}},{"source":"js/main.js","name":"init","original":{"line":140,"column":17},"generated":{"line":1,"column":1885}},{"source":"js/main.js","name":"gameObjects","original":{"line":140,"column":23},"generated":{"line":1,"column":1887}},{"source":"js/main.js","name":"gameObjects","original":{"line":140,"column":23},"generated":{"line":1,"column":1899}},{"source":"js/main.js","name":"masterAnimations","original":{"line":140,"column":36},"generated":{"line":1,"column":1901}},{"source":"js/main.js","name":"masterAnimations","original":{"line":140,"column":36},"generated":{"line":1,"column":1918}},{"source":"js/main.js","name":"portalVideos","original":{"line":140,"column":54},"generated":{"line":1,"column":1920}},{"source":"js/main.js","name":"portalVideos","original":{"line":140,"column":54},"generated":{"line":1,"column":1933}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":1936}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":1944}},{"source":"js/main.js","original":{"line":140,"column":15},"generated":{"line":1,"column":1952}}],"sources":{"js/main.js":"import game from './game.js';\r\nimport utils from './utils.js';\r\nimport tracking from './tracking.js';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport {JellyFish} from '../classes/JellyFish';\r\nimport { util } from '@tensorflow/tfjs-core';\r\n\r\n/***\r\n *** \r\n ***    Main script - all side-effects are managed here, move any utilities to separate files\r\n *** \r\n ***/\r\n\r\n\r\n//// ----- MUTABLES ----- ////\r\nlet experience = {}; //scene, renderer, and camera\r\nlet controls;\r\nlet poses;\r\nlet aJellyFish = new JellyFish();\r\nlet gameObjects = [];\r\nlet masterAnimations = []; //array of animation arrays\r\nlet portalVideos = [];\r\n\r\n\r\n//// ----- IMMUTABLES ----- ////\r\nconst video = document.querySelector('#webcam');\r\nconst predictionDelay = 1500 //minimum time in ms between predictions (alter for benchmarking)\r\nconst instructions = 'Orbit Controls are enabled. Click to log current pose predictions.'\r\n\r\n\r\n//// ----- CORE ----- ////\r\n//Runs at document load\r\nconst init = () => {\r\n\r\n    experience = game.assembleScene()\r\n\r\n    controls = new OrbitControls( experience.camera, experience.renderer.domElement );\r\n    \r\n    \r\n    game.assemblePortal();\r\n    \r\n    populateScene();\r\n\r\n    tracking.init();\r\n\r\n    mount();\r\n\r\n    experience.renderer.render(experience.scene,experience.camera);\r\n    controls.update();\r\n\r\n    animate();\r\n    \r\n    devMessages();\r\n};\r\n//Runs every frame\r\nconst animate = () => {\r\n    requestAnimationFrame(animate)\r\n    //controls.update();\r\n    experience.scene.children.forEach(object=>{\r\n        if(object.type === 'Mesh'){\r\n            object.position.x += utils.random(-0.5,0.5)\r\n            object.position.y += utils.random(-0.5,0.5)\r\n            object.position.z += utils.random(-0.5,0.5)\r\n            \r\n            object.rotation.x += 0.01\r\n            object.rotation.y += 0.01\r\n            object.rotation.z += 0.01\r\n\r\n        }\r\n\r\n    })\r\n    experience.renderer.render(experience.scene,experience.camera);\r\n    \r\n\r\n}\r\n\r\n\r\n//// ----- SIDE EFFECTS ----- ////\r\n\r\n//Updates poses object with recursive promise loop. (this should be refactored to a utility function so that we can use recursive promises for other things)\r\nconst predictVideo = () => {\r\n    const prediction = tracking.getPredictions(video)\r\n\r\n    prediction.then((result)=>{\r\n        poses = result\r\n        setTimeout(predictVideo, predictionDelay);\r\n        \r\n    })\r\n    prediction.catch((err)=>{console.log(err)})\r\n}\r\n//Puts the scene on the webpage\r\nconst mount = () => {\r\n\r\n    //renderer to canvas\r\n    document.querySelector('body').appendChild(experience.renderer.domElement);\r\n\r\n    //responsive scaling \r\n    window.addEventListener('resize', () => {\r\n        experience.renderer.setSize(window.innerWidth, window.innerHeight);\r\n        experience.camera.aspect = window.innerWidth / window.innerHeight;\r\n        experience.camera.updateProjectionMatrix();\r\n    })\r\n\r\n    //webcam and video\r\n    if (navigator.mediaDevices.getUserMedia) {\r\n        navigator.mediaDevices.getUserMedia({ video: true })\r\n            .then(function (stream) {\r\n                video.srcObject = stream;\r\n                video.addEventListener('loadeddata', predictVideo)\r\n            })\r\n    }\r\n\r\n    //testing listener\r\n    window.addEventListener('click', ()=>{console.log(poses)})\r\n\r\n}\r\n//Logs information to the console\r\nconst devMessages = () => {\r\n    console.log('Instructions: ',instructions)\r\n    console.log('Backend: ', tracking.logBackend());\r\n    console.log('Experience:',experience)\r\n    console.log('Entity Sample:',aJellyFish)\r\n}\r\n//Puts entities in the scene\r\nconst populateScene = () => {\r\n    /*\r\n    //We can just throw assets into array as they're being loaded, then populate here\r\n    game.generateCharacters().forEach(object=>{ \r\n\r\n        gameObjects.push(object) \r\n        gameObjects.forEach(object=>{experience.scene.add(object)})\r\n\r\n    })\r\n    */\r\n    game.generateCharacters().forEach(object=>experience.scene.add(object))\r\n    \r\n\r\n}\r\n\r\nexport default { init, gameObjects, masterAnimations, portalVideos }"},"lineCount":null}},"error":null,"hash":"17f9d79a4edeaa734dd35b9c60bfd821","cacheData":{"env":{}}}