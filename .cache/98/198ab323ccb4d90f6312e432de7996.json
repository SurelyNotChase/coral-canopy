{"id":"UyJE","dependencies":[{"name":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\package.json","includedInParent":true,"mtime":1646070802568},{"name":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\@tensorflow\\tfjs-backend-webgl\\package.json","includedInParent":true,"mtime":1645506087312},{"name":"./packing_util","loc":{"line":17,"column":31,"index":734},"parent":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\@tensorflow\\tfjs-backend-webgl\\dist\\transpose_packed_gpu.js","resolved":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\@tensorflow\\tfjs-backend-webgl\\dist\\packing_util.js"},{"name":"./shader_compiler","loc":{"line":18,"column":34,"index":786},"parent":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\@tensorflow\\tfjs-backend-webgl\\dist\\transpose_packed_gpu.js","resolved":"C:\\Users\\Chase_Lear\\Documents\\Personal Documents\\RIT\\Courses\\Year4\\Capstone\\dream-canopy-2\\node_modules\\@tensorflow\\tfjs-backend-webgl\\dist\\shader_compiler.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.TransposePackedProgram=void 0;var t=require(\"./packing_util\"),e=require(\"./shader_compiler\");class r{constructor(r,n){this.variableNames=[\"A\"],this.packedInputs=!0,this.packedOutput=!0;const s=new Array(r.length);for(let t=0;t<s.length;t++)s[t]=r[n[t]];if(this.outputShape=s,this.rank=s.length,this.rank>6)throw Error(`Packed transpose for rank ${this.rank} is not yet supported.`);const a=(0,e.getCoordsDataType)(this.rank),i=(0,t.getVecChannels)(\"rc\",this.rank),o=new Array(this.rank);for(let t=0;t<n.length;t++)o[n[t]]=i[t];const h=`vec2(${o.slice(-2).join()})`,u=`++${i[this.rank-1]} < ${s[this.rank-1]}`,c=`getChannel(getA(${o.join()}), ${h})`;this.userCode=`\\n    void main() {\\n      ${a} rc = getOutputCoords();\\n      vec4 result = vec4(0.);\\n      result[0] = ${c};\\n      if(${u}) {\\n        result[1] = ${c};\\n      }\\n      --${i[this.rank-1]};\\n      if(++${i[this.rank-2]} < ${s[this.rank-2]}) {\\n        result[2] = ${c};\\n        if(${u}) {\\n          result[3] = ${c};\\n        }\\n      }\\n      setOutput(result);\\n    }\\n    `}}exports.TransposePackedProgram=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":0}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":13}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":20}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":35}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":43}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":56}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":57}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":64}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":68}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":76}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":104}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":106}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":110}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":112}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":19,"column":0},"generated":{"line":1,"column":120}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":138}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":140}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":20,"column":0},"generated":{"line":1,"column":148}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":6},"generated":{"line":1,"column":169}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":13},"generated":{"line":1,"column":175}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":30,"column":2},"generated":{"line":1,"column":177}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":30,"column":14},"generated":{"line":1,"column":189}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":30,"column":32},"generated":{"line":1,"column":191}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":194}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":23,"column":2},"generated":{"line":1,"column":199}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":23,"column":18},"generated":{"line":1,"column":213}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":23,"column":19},"generated":{"line":1,"column":214}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":219}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":27,"column":2},"generated":{"line":1,"column":224}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":27,"column":17},"generated":{"line":1,"column":238}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":240}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":28,"column":2},"generated":{"line":1,"column":245}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":28,"column":17},"generated":{"line":1,"column":259}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":261}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":31,"column":10},"generated":{"line":1,"column":267}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":31,"column":34},"generated":{"line":1,"column":269}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":31,"column":38},"generated":{"line":1,"column":273}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":31,"column":44},"generated":{"line":1,"column":279}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":31,"column":51},"generated":{"line":1,"column":281}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":289}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":32,"column":9},"generated":{"line":1,"column":293}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":1,"column":297}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":32,"column":17},"generated":{"line":1,"column":299}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":32,"column":20},"generated":{"line":1,"column":301}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":32,"column":24},"generated":{"line":1,"column":303}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":32,"column":36},"generated":{"line":1,"column":305}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":32,"column":44},"generated":{"line":1,"column":312}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":33,"column":6},"generated":{"line":1,"column":316}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":33,"column":18},"generated":{"line":1,"column":318}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":33,"column":23},"generated":{"line":1,"column":321}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":33,"column":30},"generated":{"line":1,"column":323}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":33,"column":37},"generated":{"line":1,"column":325}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":329}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":332}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":35,"column":9},"generated":{"line":1,"column":337}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":35,"column":23},"generated":{"line":1,"column":349}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":1,"column":351}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":36,"column":9},"generated":{"line":1,"column":356}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":36,"column":16},"generated":{"line":1,"column":361}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":36,"column":28},"generated":{"line":1,"column":363}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":370}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":37,"column":13},"generated":{"line":1,"column":375}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":37,"column":20},"generated":{"line":1,"column":380}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":38,"column":12},"generated":{"line":1,"column":382}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":38,"column":12},"generated":{"line":1,"column":388}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":39,"column":39},"generated":{"line":1,"column":423}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":39,"column":44},"generated":{"line":1,"column":428}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":458}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":41,"column":10},"generated":{"line":1,"column":464}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":41,"column":18},"generated":{"line":1,"column":467}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":41,"column":36},"generated":{"line":1,"column":469}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":41,"column":36},"generated":{"line":1,"column":471}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":41,"column":36},"generated":{"line":1,"column":490}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":41,"column":41},"generated":{"line":1,"column":495}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":43,"column":10},"generated":{"line":1,"column":501}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":43,"column":24},"generated":{"line":1,"column":504}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":43,"column":39},"generated":{"line":1,"column":506}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":43,"column":39},"generated":{"line":1,"column":508}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":43,"column":39},"generated":{"line":1,"column":524}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":43,"column":45},"generated":{"line":1,"column":529}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":43,"column":50},"generated":{"line":1,"column":534}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":44,"column":10},"generated":{"line":1,"column":540}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":44,"column":26},"generated":{"line":1,"column":542}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":44,"column":30},"generated":{"line":1,"column":546}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":44,"column":36},"generated":{"line":1,"column":552}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":44,"column":41},"generated":{"line":1,"column":557}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":1,"column":563}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":45,"column":9},"generated":{"line":1,"column":567}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":571}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":45,"column":17},"generated":{"line":1,"column":573}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":45,"column":20},"generated":{"line":1,"column":575}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":45,"column":24},"generated":{"line":1,"column":577}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":45,"column":31},"generated":{"line":1,"column":579}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":45,"column":39},"generated":{"line":1,"column":586}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":46,"column":6},"generated":{"line":1,"column":590}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":46,"column":20},"generated":{"line":1,"column":592}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":46,"column":27},"generated":{"line":1,"column":594}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":46,"column":33},"generated":{"line":1,"column":598}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":46,"column":45},"generated":{"line":1,"column":600}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":603}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":48,"column":10},"generated":{"line":1,"column":609}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":48,"column":30},"generated":{"line":1,"column":619}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":48,"column":44},"generated":{"line":1,"column":621}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":48,"column":51},"generated":{"line":1,"column":628}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":48,"column":54},"generated":{"line":1,"column":631}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":49,"column":10},"generated":{"line":1,"column":641}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":50,"column":13},"generated":{"line":1,"column":648}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":50,"column":25},"generated":{"line":1,"column":650}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":50,"column":30},"generated":{"line":1,"column":655}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":50,"column":37},"generated":{"line":1,"column":660}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":50,"column":45},"generated":{"line":1,"column":668}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":50,"column":57},"generated":{"line":1,"column":670}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":50,"column":62},"generated":{"line":1,"column":675}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":50,"column":69},"generated":{"line":1,"column":680}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":51,"column":10},"generated":{"line":1,"column":685}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":1,"column":706}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":51,"column":50},"generated":{"line":1,"column":708}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":51,"column":62},"generated":{"line":1,"column":720}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":725}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":53,"column":9},"generated":{"line":1,"column":730}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":769}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":57,"column":20},"generated":{"line":1,"column":848}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":58,"column":11},"generated":{"line":1,"column":864}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":59,"column":22},"generated":{"line":1,"column":893}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":61,"column":10},"generated":{"line":1,"column":917}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":61,"column":22},"generated":{"line":1,"column":919}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":61,"column":27},"generated":{"line":1,"column":924}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":61,"column":34},"generated":{"line":1,"column":929}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":62,"column":13},"generated":{"line":1,"column":948}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":62,"column":25},"generated":{"line":1,"column":950}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":62,"column":30},"generated":{"line":1,"column":955}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":62,"column":37},"generated":{"line":1,"column":960}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":62,"column":45},"generated":{"line":1,"column":968}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":62,"column":57},"generated":{"line":1,"column":970}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":62,"column":62},"generated":{"line":1,"column":975}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":62,"column":69},"generated":{"line":1,"column":980}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":63,"column":22},"generated":{"line":1,"column":1010}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":64,"column":13},"generated":{"line":1,"column":1028}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":65,"column":24},"generated":{"line":1,"column":1059}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":1124}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":1132}},{"source":"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts","name":null,"original":{"line":22,"column":35},"generated":{"line":1,"column":1155}}],"sources":{"../../../../../tfjs-backend-webgl/src/transpose_packed_gpu.ts":"/**\n * @license\n * Copyright 2019 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport {GPGPUProgram} from './gpgpu_math';\nimport {getVecChannels} from './packing_util';\nimport {getCoordsDataType} from './shader_compiler';\n\nexport class TransposePackedProgram implements GPGPUProgram {\n  variableNames = ['A'];\n  outputShape: number[];\n  userCode: string;\n  rank: number;\n  packedInputs = true;\n  packedOutput = true;\n\n  constructor(aShape: number[], newDim: number[]) {\n    const outputShape: number[] = new Array(aShape.length);\n    for (let i = 0; i < outputShape.length; i++) {\n      outputShape[i] = aShape[newDim[i]];\n    }\n    this.outputShape = outputShape;\n    this.rank = outputShape.length;\n    if (this.rank > 6) {\n      throw Error(\n          `Packed transpose for rank ${this.rank} is not yet supported.`);\n    }\n    const dtype = getCoordsDataType(this.rank);\n\n    const outputOrder = getVecChannels('rc', this.rank);\n    const switchedOrder = new Array(this.rank);\n    for (let i = 0; i < newDim.length; i++) {\n      switchedOrder[newDim[i]] = outputOrder[i];\n    }\n    const innerDims = `vec2(${switchedOrder.slice(-2).join()})`;\n    const nextColumn =\n        `++${outputOrder[this.rank - 1]} < ${outputShape[this.rank - 1]}`;\n    const getc = `getChannel(getA(${switchedOrder.join()}), ${innerDims})`;\n\n    this.userCode = `\n    void main() {\n      ${dtype} rc = getOutputCoords();\n      vec4 result = vec4(0.);\n      result[0] = ${getc};\n      if(${nextColumn}) {\n        result[1] = ${getc};\n      }\n      --${outputOrder[this.rank - 1]};\n      if(++${outputOrder[this.rank - 2]} < ${outputShape[this.rank - 2]}) {\n        result[2] = ${getc};\n        if(${nextColumn}) {\n          result[3] = ${getc};\n        }\n      }\n      setOutput(result);\n    }\n    `;\n  }\n}\n"},"lineCount":null}},"error":null,"hash":"874f98641d20de20d0a9338b62596b67","cacheData":{"env":{}}}